<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Portfolio â€¢ <Your Name></title>
  <meta name="description" content="Personal portfolio generated from a simple JSON profile. Host as a single-file website on a GitHub Gist." />
  <meta property="og:title" content="<Your Name> â€“ Portfolio" />
  <meta property="og:description" content="Personal portfolio generated from a simple JSON profile. Host as a single-file website on a GitHub Gist." />
  <meta property="og:type" content="website" />
  <meta name="theme-color" content="#0ea5e9" />
  <!-- Tailwind via CDN (no build step) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    // Tailwind config (keep it small)
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ["Inter", "system-ui", "-apple-system", "Segoe UI", "Roboto", "Ubuntu", "Cantarell", "Noto Sans", "Helvetica Neue", "Arial", "sans-serif"],
          },
          boxShadow: {
            soft: "0 10px 30px -10px rgba(0,0,0,0.15)",
          }
        }
      },
      darkMode: 'class'
    }
  </script>
  <style>
    /* Print-friendly */
    @media print {
      .no-print{ display:none !important; }
      body{ color: #000; }
      a{ text-decoration:none; color:#000; }
    }
  </style>
  <!--
  ðŸ‘‹ Quick Start (read this, then delete)
  1) Replace the JSON in the <script id="profile-data"> tag with your details (or hit the 
     "Edit Data" button in the top-right when viewing the page to live-edit & save to localStorage).
  2) Create a PUBLIC GitHub Gist named index.html and paste this whole file.
  3) Click the "Raw" button in the gist, copy the URL, and open it via:
       https://htmlpreview.github.io/?<RAW_URL>
     (you can also use raw.githack.com if you prefer).
  4) Share your link! Optional: print to PDF for a one-page rÃ©sumÃ©.

  Tip: Your data is also embedded as Schema.org JSONâ€‘LD for better SEO.
  -->
</head>
<body class="bg-slate-50 text-slate-800 dark:bg-slate-950 dark:text-slate-100 font-sans">
  <div id="app" class="min-h-screen">
    <!-- Top Bar -->
    <header class="sticky top-0 z-30 backdrop-blur supports-[backdrop-filter]:bg-white/60 dark:supports-[backdrop-filter]:bg-slate-900/60 bg-white/90 dark:bg-slate-900/90 border-b border-slate-200/60 dark:border-slate-800/60">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 py-3 flex items-center gap-3">
        <div class="flex items-center gap-3">
          <div id="avatar" class="h-9 w-9 rounded-full bg-sky-500/10 ring-1 ring-sky-400/40 flex items-center justify-center text-sky-700 dark:text-sky-300 text-sm font-semibold"></div>
          <div>
            <div id="nav-name" class="text-sm sm:text-base font-semibold"></div>
            <div id="nav-headline" class="text-xs text-slate-500 dark:text-slate-400"></div>
          </div>
        </div>
        <div class="ml-auto flex items-center gap-2">
          <button id="themeToggle" class="no-print inline-flex items-center gap-2 rounded-xl border border-slate-200 dark:border-slate-800 px-3 py-1.5 text-xs hover:bg-slate-100 dark:hover:bg-slate-800" title="Toggle theme">
            <span>Theme</span>
          </button>
          <button id="editBtn" class="no-print inline-flex items-center gap-2 rounded-xl bg-sky-600 hover:bg-sky-700 text-white px-3 py-1.5 text-xs shadow-soft" title="Edit profile data">
            <span>Edit Data</span>
          </button>
          <a id="printBtn" href="#" class="no-print inline-flex items-center gap-2 rounded-xl border border-slate-200 dark:border-slate-800 px-3 py-1.5 text-xs hover:bg-slate-100 dark:hover:bg-slate-800" title="Print / Save PDF">Print</a>
        </div>
      </div>
    </header>

    <!-- Hero -->
    <section class="max-w-6xl mx-auto px-4 sm:px-6 pt-10 pb-6">
      <div class="grid md:grid-cols-[auto,1fr] gap-6 items-start">
        <div>
          <img id="photo" alt="Profile" class="h-28 w-28 rounded-2xl object-cover ring-1 ring-slate-200 dark:ring-slate-800" />
        </div>
        <div>
          <h1 id="name" class="text-2xl sm:text-3xl md:text-4xl font-extrabold tracking-tight"></h1>
          <p id="headline" class="mt-2 text-slate-600 dark:text-slate-300"></p>
          <div class="mt-3 flex flex-wrap gap-2 text-sm text-slate-600 dark:text-slate-300">
            <span id="location" class="inline-flex items-center gap-1 rounded-full border border-slate-200 dark:border-slate-800 px-2.5 py-1"></span>
            <a id="email" class="inline-flex items-center gap-1 rounded-full border border-slate-200 dark:border-slate-800 px-2.5 py-1" href="#" target="_blank" rel="noopener"></a>
            <a id="phone" class="inline-flex items-center gap-1 rounded-full border border-slate-200 dark:border-slate-800 px-2.5 py-1" href="#" target="_blank" rel="noopener"></a>
            <a id="linkedin" class="inline-flex items-center gap-1 rounded-full border border-slate-200 dark:border-slate-800 px-2.5 py-1" href="#" target="_blank" rel="noopener">LinkedIn</a>
            <a id="github" class="inline-flex items-center gap-1 rounded-full border border-slate-200 dark:border-slate-800 px-2.5 py-1" href="#" target="_blank" rel="noopener">GitHub</a>
            <a id="website" class="inline-flex items-center gap-1 rounded-full border border-slate-200 dark:border-slate-800 px-2.5 py-1" href="#" target="_blank" rel="noopener">Website</a>
            <a id="resume" class="inline-flex items-center gap-1 rounded-full border border-amber-300/60 bg-amber-50 dark:bg-amber-900/20 dark:border-amber-800 px-2.5 py-1" href="#" target="_blank" rel="noopener">RÃ©sumÃ©</a>
          </div>
        </div>
      </div>
    </section>

    <!-- Sections -->
    <main class="max-w-6xl mx-auto px-4 sm:px-6 pb-16">
      <div class="grid lg:grid-cols-3 gap-6">
        <!-- Left column -->
        <div class="space-y-6 lg:col-span-2">
          <!-- About -->
          <section class="rounded-2xl p-6 bg-white dark:bg-slate-900 ring-1 ring-slate-200 dark:ring-slate-800 shadow-soft">
            <h2 class="text-lg font-semibold">About</h2>
            <p id="about" class="mt-3 leading-relaxed text-slate-700 dark:text-slate-300"></p>
          </section>

          <!-- Experience -->
          <section class="rounded-2xl p-6 bg-white dark:bg-slate-900 ring-1 ring-slate-200 dark:ring-slate-800 shadow-soft">
            <div class="flex items-center justify-between">
              <h2 class="text-lg font-semibold">Experience</h2>
            </div>
            <div id="experience" class="mt-4 space-y-6"></div>
          </section>

          <!-- Projects -->
          <section class="rounded-2xl p-6 bg-white dark:bg-slate-900 ring-1 ring-slate-200 dark:ring-slate-800 shadow-soft">
            <div class="flex items-center justify-between">
              <h2 class="text-lg font-semibold">Projects</h2>
              <input id="projectSearch" class="no-print text-sm rounded-xl border border-slate-200 dark:border-slate-800 bg-transparent px-3 py-1.5 outline-none focus:ring-2 focus:ring-sky-300" placeholder="Search projectsâ€¦" />
            </div>
            <div id="projects" class="mt-4 grid md:grid-cols-2 gap-4"></div>
          </section>
        </div>

        <!-- Right column -->
        <aside class="space-y-6">
          <section class="rounded-2xl p-6 bg-white dark:bg-slate-900 ring-1 ring-slate-200 dark:ring-slate-800 shadow-soft">
            <h2 class="text-lg font-semibold">Skills</h2>
            <div id="skills" class="mt-3 flex flex-wrap gap-2"></div>
          </section>
          <section class="rounded-2xl p-6 bg-white dark:bg-slate-900 ring-1 ring-slate-200 dark:ring-slate-800 shadow-soft">
            <h2 class="text-lg font-semibold">Education</h2>
            <div id="education" class="mt-3 space-y-4"></div>
          </section>
          <section class="rounded-2xl p-6 bg-white dark:bg-slate-900 ring-1 ring-slate-200 dark:ring-slate-800 shadow-soft">
            <h2 class="text-lg font-semibold">Achievements</h2>
            <ul id="achievements" class="mt-3 list-disc pl-6 space-y-1"></ul>
          </section>
          <section class="rounded-2xl p-6 bg-white dark:bg-slate-900 ring-1 ring-slate-200 dark:ring-slate-800 shadow-soft">
            <h2 class="text-lg font-semibold">Contact</h2>
            <p class="mt-2 text-sm text-slate-600 dark:text-slate-300">For speaking, consulting, or collaboration, reach out via the links above.</p>
          </section>
        </aside>
      </div>
    </main>

    <footer class="border-t border-slate-200 dark:border-slate-800 py-10">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 text-sm text-slate-500 dark:text-slate-400">
        <p>Â© <span id="year"></span> <span id="foot-name"></span>. Built as a single-file site. Host it on a GitHub Gist. âœ¨</p>
      </div>
    </footer>
  </div>

  <!-- Editable profile data -->
  <script id="profile-data" type="application/json">
  {
  "name": "Farhan Yousuf",
  "headline": "Engineering Manager / Mobile Lead â€¢ 13+ years â€¢ Swift, Flutter, React Native â€¢ Agile, DevOps, Banking, ERP, E-commerce",
  "location": "Dubai, United Arab Emirates",
  "email": "farhanyousuf.official@gmail.com",
  "phone": "+971 50-917-1882",
  "linkedin": "https://www.linkedin.com/in/farhanyousuf/",
  "github": "https://github.com/farhanfarz",
  "website": "",
  "resume_url": "",
  "photo_url": "https://i.postimg.cc/2SKQVW0m/temp-Imagev8qz-LV.avif",
  "about": "Engineering Manager and Mobile Lead with 13+ years building native and cross-platform apps (iOS, Flutter, React Native). Led 20+ web & mobile engineers across banking, real estate, and retail, shipping enterprise-grade apps integrated with Salesforce, Oracle/SOA, SAP (Gigya), and ERP systems. Strong in Agile delivery, architecture, DevOps (Azure), CI/CD, code quality, security/compliance, and stakeholder communication.",
  "skills": [
    "Leadership: People management, mentoring, hiring, performance reviews",
    "Agile & Delivery: Scrum, squad setup, backlog refinement, roadmapping",
    "Mobile: iOS (Swift, Objective-C), Flutter/Dart, React Native",
    "Android: Java, Kotlin",
    "Architecture: Clean architecture, design patterns, scalability",
    "DevOps: Azure DevOps, Docker, Bamboo, CI/CD",
    "Tools: Xcode, Instruments, Git, Carthage, CocoaPods, JIRA, Zeplin, Figma, TFS, SVN, Cornerstone",
    "Analytics: Crashlytics, AppsFlyer, Flurry, Google Analytics, Infobip, Fabric",
    "Testing: Unit/UI testing, code reviews, SonarQube, SwiftLint",
    "Networking: AFNetworking, Alamofire, REST, SOAP, GraphQL, SSL Pinning",
    "Databases: Core Data, RealmSwift",
    "Social & Growth: Branch.io, FBSDK, Google SDKs, LinkedIn SDK",
    "Video/Streaming: Wowza GoCoder, RTSP/RTMP/HLS",
    "Salesforce: ZksForce, sObject queries",
    "Security & Compliance"
  ],
  "experience": [
    {
      "role": "Flutter Lead (Consultant)",
      "company": "IBM Middle East LLC",
      "location": "United Arab Emirates",
      "period": "Jan 2023 â€“ Present",
      "summary": "People leadership, architecture & product strategy for Flutter squads; upgraded codebases, instituted best practices, reviewed code, and improved CI for multiple environments.",
      "bullets": [
        "Created and managed multiple Flutter squads delivering client solutions.",
        "Guided backend architecture decisions for scalable systems.",
        "Advised on UI/UX aligned with regional expectations.",
        "Improved CI processes and unit test coverage."
      ]
    },
    {
      "role": "Mobile Lead",
      "company": "DScale â€“ Medad Holdings",
      "location": "United Arab Emirates",
      "period": "Dec 2020 â€“ Dec 2022",
      "summary": "Led the mobile team to ship high-quality Flutter products; built self-managing teams and aligned product/tech decisions.",
      "bullets": [
        "Established Flutter best practices and component libraries.",
        "Enabled teams to design APIs using Hasura/GraphQL.",
        "Mediated architectural decisions; optimized processes with product and engineering."
      ]
    },
    {
      "role": "Engineering Manager",
      "company": "Emaar Properties â€“ Digital Projects",
      "location": "United Arab Emirates",
      "period": "Apr 2020 â€“ Dec 2020",
      "summary": "Managed up to five teams simultaneously; mentored engineers and raised functional/technical quality.",
      "bullets": [
        "Owned long-term goals and handled team performance reviews.",
        "Acted as buffer to protect teams; drove training, 1:1s, and conferences.",
        "Aligned stakeholders on technology and architecture; served as tie-breaker on key decisions."
      ]
    },
    {
      "role": "Senior iOS Developer / React Native Developer / Team Lead",
      "company": "Emaar Properties â€“ Digital Projects",
      "location": "United Arab Emirates",
      "period": "Jan 2017 â€“ Dec 2020",
      "summary": "Delivered iOS and React Native features integrated with Oracle, Salesforce, SOA, and other ERP systems.",
      "bullets": [
        "Implemented features across iPhone/Android with multiple ERP backends.",
        "Maintained enterprise apps with security and performance in focus."
      ]
    },
    {
      "role": "Senior iOS Developer",
      "company": "Solutions 4 Mobility (now Nagarro)",
      "location": "United Arab Emirates",
      "period": "May 2017 â€“ Dec 2017",
      "summary": "Shipped pixel-perfect iOS features, added watchOS support, and modernized legacy modules.",
      "bullets": [
        "Ensured Security Risk Compliance and iPhone X compatibility.",
        "Refactored modules for readability and maintenance; ongoing updates."
      ]
    }
  ],
  "projects": [
    {
      "name": "Blue Rewards (Al-Futtaim)",
      "description": "Loyalty and rewards app; upgraded Flutter codebase, implemented Gigya onboarding, wallet, and fast offer redemption flows.",
      "links": [
        { "label": "App Store", "url": "https://apps.apple.com/us/app/blue-rewards/id1503337179?ls=1" },
        { "label": "Play Store", "url": "https://play.google.com/store/apps/details?id=com.alfuttaim.blue&pli=1" }
      ]
    },
    {
      "name": "Index Exchange",
      "description": "Digital remittance solution covering onboarding, transfers, utilities, and payment methods; led UI best practices with Flutter.",
      "links": []
    },
    {
      "name": "Dalma Mall App",
      "description": "Customer engagement & navigation app; reusable architecture, widget library, and coordinated backend services.",
      "links": [
        { "label": "App Store", "url": "https://apps.apple.com/ae/app/dalma-mall-app/id1609909953" },
        { "label": "Play Store", "url": "https://play.google.com/store/apps/details?id=com.dscale.dalmaMallApp&hl=en&gl=US" }
      ]
    },
    {
      "name": "Emaar One",
      "description": "Owner services app integrating Oracle, Salesforce, SOA, and Sakani backends; led native and React Native delivery.",
      "links": [
        { "label": "App Store", "url": "https://apps.apple.com/ae/app/emaar-one/id1445056033" },
        { "label": "Play Store", "url": "https://play.google.com/store/apps/details?id=com.emaartechnologies.emaarone&hl=en&gl=US" }
      ]
    },
    {
      "name": "Emirates NBD Suite (various)",
      "description": "Multiple banking apps including main, KSA, Egypt, SmartPass, Liv, and SmartBusiness; security compliance, iPhone X support, and feature additions.",
      "links": [
        { "label": "ENBD UAE â€“ App Store", "url": "https://itunes.apple.com/ae/app/emirates-nbd/id505092748?mt=8" },
        { "label": "ENBD KSA â€“ App Store", "url": "https://itunes.apple.com/ae/app/emirates-nbd-ksa/id868811134?mt=8" },
        { "label": "ENBD Egypt â€“ App Store", "url": "https://itunes.apple.com/us/app/emirates-nbd-egypt/id1040507987?mt=8" },
        { "label": "SmartPass â€“ App Store", "url": "https://itunes.apple.com/us/app/enbd-ksa-smartpass/id1199575430?mt=8" },
        { "label": "Liv â€“ App Store", "url": "https://itunes.apple.com/ae/app/liv-digital-lifestyle-bank/id1231846103?mt=8" },
        { "label": "SmartBusiness â€“ App Store", "url": "https://itunes.apple.com/us/app/emirates-nbd-smartbusiness/id699419559?mt=8" }
      ]
    }
  ],
  "education": [
    {
      "school": "Bachelor of Technology (B.Tech)",
      "degree": "Computer Science and Engineering",
      "period": ""
    }
  ],
  "achievements": [
    "Promoted to manage all projects under Emaar Properties vertical after cross-vertical recommendations.",
    "Delivered banking apps for Emirates NBDâ€”top-rated in regional app stores.",
    "Shipped enterprise apps used by global sales teams (Deloitte, Diageo, Emaar)."
  ]
}
  </script>

  <!-- Modal for editing JSON data -->
  <div id="editorModal" class="no-print fixed inset-0 z-50 hidden items-center justify-center bg-black/50 p-4">
    <div class="w-full max-w-3xl rounded-2xl bg-white dark:bg-slate-900 ring-1 ring-slate-200 dark:ring-slate-800 shadow-soft">
      <div class="flex items-center justify-between border-b border-slate-200 dark:border-slate-800 px-4 py-3">
        <h3 class="font-semibold">Edit Profile Data (JSON)</h3>
        <button id="closeEditor" class="rounded-lg px-2 py-1 hover:bg-slate-100 dark:hover:bg-slate-800">âœ•</button>
      </div>
      <div class="p-4">
        <textarea id="editor" class="w-full h-[50vh] rounded-xl border border-slate-200 dark:border-slate-800 bg-transparent p-3 font-mono text-sm outline-none focus:ring-2 focus:ring-sky-300"></textarea>
        <div class="mt-3 flex items-center justify-between">
          <div class="text-xs text-slate-500">Your edits save to localStorage â€” not to the file. To make changes permanent, paste the JSON back into the file.</div>
          <div class="flex items-center gap-2">
            <button id="exportJson" class="rounded-xl border border-slate-200 dark:border-slate-800 px-3 py-1.5 text-xs hover:bg-slate-100 dark:hover:bg-slate-800">Export JSON</button>
            <button id="saveEditor" class="rounded-xl bg-sky-600 hover:bg-sky-700 text-white px-3 py-1.5 text-xs">Save</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- App logic -->
  <script>
    const $ = (sel) => document.querySelector(sel);
    const el = (tag, cls) => { const e = document.createElement(tag); if (cls) e.className = cls; return e; };

    // Theme
    const root = document.documentElement;
    const setTheme = (mode) => {
      if (mode === 'dark') root.classList.add('dark'); else root.classList.remove('dark');
      localStorage.setItem('theme', mode);
    };
    setTheme(localStorage.getItem('theme') || (matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'));
    $('#themeToggle').addEventListener('click', () => setTheme(root.classList.contains('dark') ? 'light' : 'dark'));

    // Data load (localStorage overrides embedded JSON)
    const embedded = JSON.parse(document.getElementById('profile-data').textContent);
    let profile = { ...embedded, ...(JSON.parse(localStorage.getItem('profile') || '{}')) };

    // Helper: set text safely
    function setText(id, text) { const node = document.getElementById(id); if (!node) return; node.textContent = text || ''; }

    // Avatar/photo
    function setAvatar(name) {
      const av = document.getElementById('avatar');
      const initials = (name || '?').split(/\s+/).map(s => s[0]).filter(Boolean).slice(0,2).join('').toUpperCase();
      av.textContent = initials;
    }

    function hydrate() {
      setText('nav-name', profile.name);
      setText('nav-headline', profile.headline);
      setText('name', profile.name);
      setText('headline', profile.headline);
      setText('location', profile.location);
      setText('about', profile.about);
      setText('foot-name', profile.name);
      document.title = `Portfolio â€¢ ${profile.name || 'Your Name'}`;
      document.getElementById('year').textContent = new Date().getFullYear();

      // Links
      const email = $('#email');
      email.textContent = profile.email || '';
      email.href = profile.email ? `mailto:${profile.email}` : '#';
      const phone = $('#phone');
      phone.textContent = profile.phone || '';
      phone.href = profile.phone ? `tel:${profile.phone.replace(/\s+/g,'')}` : '#';
      const linkedin = $('#linkedin');
      linkedin.href = profile.linkedin || '#';
      const github = $('#github');
      github.href = profile.github || '#';
      const website = $('#website');
      website.href = profile.website || '#';
      const resume = $('#resume');
      resume.href = profile.resume_url || '#';

      // Photo
      const img = document.getElementById('photo');
      if (profile.photo_url) {
        img.src = profile.photo_url;
        img.classList.remove('hidden');
      } else {
        img.classList.add('hidden');
      }

      // Avatar initials in top bar
      setAvatar(profile.name);

      // Skills
      const skills = $('#skills');
      skills.innerHTML = '';
      (profile.skills || []).forEach(s => {
        const chip = el('span', 'inline-flex items-center rounded-full bg-sky-50 dark:bg-sky-900/30 text-sky-800 dark:text-sky-200 border border-sky-200/70 dark:border-sky-800 px-2.5 py-1 text-xs');
        chip.textContent = s;
        skills.appendChild(chip);
      });

      // Education
      const edu = $('#education');
      edu.innerHTML = '';
      (profile.education || []).forEach(e => {
        const item = el('div');
        const title = el('div', 'font-medium'); title.textContent = `${e.school}`;
        const sub = el('div', 'text-sm text-slate-600 dark:text-slate-300'); sub.textContent = `${e.degree || ''} ${e.period ? ' â€¢ ' + e.period : ''}`;
        item.appendChild(title); item.appendChild(sub); edu.appendChild(item);
      });

      // Achievements
      const ach = $('#achievements');
      ach.innerHTML = '';
      (profile.achievements || []).forEach(a => { const li = el('li'); li.textContent = a; ach.appendChild(li); });

      // Experience
      const exp = $('#experience');
      exp.innerHTML = '';
      (profile.experience || []).forEach(x => {
        const card = el('article', 'rounded-xl ring-1 ring-slate-200 dark:ring-slate-800 p-4');
        const title = el('h3', 'font-semibold'); title.textContent = `${x.role} â€” ${x.company}`;
        const meta = el('div', 'text-xs text-slate-500 mt-0.5'); meta.textContent = x.period || '';
        const sum = el('p', 'mt-2 text-sm text-slate-700 dark:text-slate-300'); sum.textContent = x.summary || '';
        const ul = el('ul', 'mt-2 list-disc pl-5 space-y-1 text-sm');
        (x.bullets || []).forEach(b => { const li = el('li'); li.textContent = b; ul.appendChild(li); });
        card.append(title, meta, sum, ul); exp.appendChild(card);
      });

      // Projects
      renderProjects();

      // JSONâ€‘LD for SEO
      const ld = {
        "@context": "https://schema.org",
        "@type": "Person",
        "name": profile.name,
        "description": profile.headline,
        "image": profile.photo_url || undefined,
        "url": profile.website || undefined,
        "email": profile.email ? `mailto:${profile.email}` : undefined,
        "telephone": profile.phone || undefined,
        "sameAs": [profile.linkedin, profile.github, profile.website].filter(Boolean)
      };
      let ldEl = document.getElementById('ld');
      if (!ldEl) { ldEl = document.createElement('script'); ldEl.type = 'application/ld+json'; ldEl.id = 'ld'; document.body.appendChild(ldEl); }
      ldEl.textContent = JSON.stringify(ld, null, 2);
    }

    function renderProjects(filter = '') {
      const wrap = $('#projects');
      wrap.innerHTML = '';
      const items = (profile.projects || []).filter(p => (p.name + ' ' + (p.description||'')).toLowerCase().includes(filter.toLowerCase()));
      items.forEach(p => {
        const card = el('article', 'rounded-xl ring-1 ring-slate-200 dark:ring-slate-800 p-4 hover:shadow-soft transition');
        const title = el('h3', 'font-semibold'); title.textContent = p.name;
        const desc = el('p', 'mt-1 text-sm text-slate-700 dark:text-slate-300'); desc.textContent = p.description || '';
        const links = el('div', 'mt-2 flex flex-wrap gap-2');
        (p.links || []).forEach(l => {
          const a = el('a', 'inline-flex items-center gap-1 rounded-lg border border-slate-200 dark:border-slate-800 px-2.5 py-1 text-xs');
          a.href = l.url; a.target = '_blank'; a.rel = 'noopener'; a.textContent = l.label || 'Link';
          links.appendChild(a);
        });
        card.append(title, desc, links); wrap.appendChild(card);
      });
    }

    // Search projects
    document.getElementById('projectSearch').addEventListener('input', (e) => renderProjects(e.target.value));

    // Print
    document.getElementById('printBtn').addEventListener('click', (e) => { e.preventDefault(); window.print(); });

    // Editor modal
    const modal = $('#editorModal');
    $('#editBtn').addEventListener('click', () => { $('#editor').value = JSON.stringify(profile, null, 2); modal.classList.remove('hidden'); modal.classList.add('flex'); });
    $('#closeEditor').addEventListener('click', () => { modal.classList.add('hidden'); modal.classList.remove('flex'); });
    $('#saveEditor').addEventListener('click', () => {
      try {
        const next = JSON.parse($('#editor').value);
        localStorage.setItem('profile', JSON.stringify(next));
        profile = next; hydrate();
        modal.classList.add('hidden'); modal.classList.remove('flex');
      } catch(err) { alert('Invalid JSON: ' + err.message); }
    });
    $('#exportJson').addEventListener('click', () => {
      const blob = new Blob([JSON.stringify(profile, null, 2)], {type: 'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'profile.json'; a.click(); URL.revokeObjectURL(url);
    });

    hydrate();
  </script>
</body>
</html>
